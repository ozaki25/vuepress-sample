(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{60:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"reactコンポーネントの型チェック"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactコンポーネントの型チェック","aria-hidden":"true"}},[t._v("#")]),t._v(" Reactコンポーネントの型チェック")]),s("h2",{attrs:{id:"ゴール"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ゴール","aria-hidden":"true"}},[t._v("#")]),t._v(" ゴール")]),s("ul",[s("li",[t._v("PropTypesで何ができるか理解する")]),s("li",[t._v("PropTypesの使い方を覚える")])]),s("h2",{attrs:{id:"javascriptの型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascriptの型","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScriptの型")]),s("ul",[s("li",[t._v("JavaScriptは言語仕様上、明示的に型を宣言することはない")]),s("li",[t._v("なので意図した型と違ったデータが渡ってきても実行するまで検知することができない\n"),s("ul",[s("li",[t._v("もしくは実行時も検知が容易でない場合もある")])])]),s("li",[t._v("こうした課題に対応するために型チェックのライブラリを導入するケースが増えている")])]),s("h2",{attrs:{id:"reactの型チェックライブラリ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactの型チェックライブラリ","aria-hidden":"true"}},[t._v("#")]),t._v(" Reactの型チェックライブラリ")]),s("ul",[s("li",[t._v("React/ReactNativeで型チェックを行う場合以下の3つが候補となる\n"),s("ul",[s("li",[t._v("PropTypes")]),s("li",[t._v("Flow")]),s("li",[t._v("TypeScript")])])])]),s("h3",{attrs:{id:"proptypes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proptypes","aria-hidden":"true"}},[t._v("#")]),t._v(" PropTypes")]),s("ul",[s("li",[t._v("3つの中で一番軽量で簡易的")]),s("li",[t._v("実行時に型違反があればコンソールにメッセージを出力する")]),s("li",[t._v("もともとはReactに組み込まれていたもので今は単独のライブラリになっている")])]),s("h3",{attrs:{id:"flow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flow","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow")]),s("ul",[s("li",[t._v("React本体のコードで採用されているライブラリ")]),s("li",[t._v("コマンド実行やエディタの拡張機能によって、静的な型チェックができる")])]),s("h3",{attrs:{id:"typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typescript","aria-hidden":"true"}},[t._v("#")]),t._v(" TypeScript")]),s("ul",[s("li",[t._v("JavaScriptの拡張言語")]),s("li",[t._v("型以外にも豊富な機能を持っている")]),s("li",[t._v("Flowと同様に静的な型チェックができる")])]),s("h3",{attrs:{id:"どのライブラリを選ぶとよいか"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#どのライブラリを選ぶとよいか","aria-hidden":"true"}},[t._v("#")]),t._v(" どのライブラリを選ぶとよいか")]),s("ul",[s("li",[t._v("どれも一長一短あるものなのでプロジェクトに応じて判断すると良い")]),s("li",[t._v("今回は一番軽量で学習コストも低いPropTypesの使い方を紹介する")])]),s("h2",{attrs:{id:"proptypesの使い方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proptypesの使い方","aria-hidden":"true"}},[t._v("#")]),t._v(" PropTypesの使い方")]),s("h3",{attrs:{id:"proptypesで何ができるのか"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proptypesで何ができるのか","aria-hidden":"true"}},[t._v("#")]),t._v(" PropTypesで何ができるのか")]),s("ul",[s("li",[t._v("コンポーネントの引数に型を指定できる")]),s("li",[t._v("コンポーネントの引数にデフォルト値を設定できる")]),s("li",[t._v("不適合な型の値が渡された場合、実行時にコンソールにメッセージを出力する")])]),s("h3",{attrs:{id:"proptypesの導入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proptypesの導入","aria-hidden":"true"}},[t._v("#")]),t._v(" PropTypesの導入")]),s("ul",[s("li",[s("p",[t._v("npmコマンドでインストールする")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -S prop-types\n")])])])]),s("h3",{attrs:{id:"proptypesの使い方-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proptypesの使い方-2","aria-hidden":"true"}},[t._v("#")]),t._v(" PropTypesの使い方")]),s("ul",[s("li",[s("p",[t._v("引数の型と、必須項目でない場合はデフォルト値を設定する")])]),s("li",[s("p",[t._v("関数/クラスどちらのコンポーネントでも書き方は同じ")])]),s("li",[s("p",[t._v("サンプル")]),s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'react'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Text"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TouchableOpacity "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'react-native'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PropTypes "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'prop-types'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token function-variable function"}},[t._v("Button")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("TouchableOpacity")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("onPress")]),s("span",{attrs:{class:"token script language-javascript"}},[s("span",{attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onPress"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Text")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Text")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("TouchableOpacity")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 引数の型を指定")]),t._v("\nButton"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  onPress"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 引数のデフォルト値を指定")]),t._v("\nButton"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'ボタン'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Button"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),s("h4",{attrs:{id:"引数の型の指定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引数の型の指定","aria-hidden":"true"}},[t._v("#")]),t._v(" 引数の型の指定")]),s("ul",[s("li",[s("p",[t._v("以下のような形式で型を指定する")])]),s("li",[s("p",[t._v("必須項目については"),s("code",[t._v("isRequired")]),t._v("をつける")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 引数の型を指定")]),t._v("\nButton"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  onPress"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("li",[s("p",[t._v("指定できる主な型")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string "),s("span",{attrs:{class:"token comment"}},[t._v("// 文字列")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number "),s("span",{attrs:{class:"token comment"}},[t._v("// 数値")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bool "),s("span",{attrs:{class:"token comment"}},[t._v("// 真偽値")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func "),s("span",{attrs:{class:"token comment"}},[t._v("// 関数")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array "),s("span",{attrs:{class:"token comment"}},[t._v("// 配列")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object "),s("span",{attrs:{class:"token comment"}},[t._v("// オブジェクト")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("element "),s("span",{attrs:{class:"token comment"}},[t._v("// Reactコンポーネント")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("arrayOf")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// xxx型の要素が入った配列")]),t._v("\nPropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("shape")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" yyy"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PropTypes"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zzz "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// key名がyyyでそのvalueの型がzzzであるプロパティを含むオブジェクト")]),t._v("\n")])])])]),s("h4",{attrs:{id:"引数のデフォルト値の設定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引数のデフォルト値の設定","aria-hidden":"true"}},[t._v("#")]),t._v(" 引数のデフォルト値の設定")]),s("ul",[s("li",[s("p",[t._v("以下のような形式でデフォルト値を指定する")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 引数のデフォルト値を指定")]),t._v("\nButton"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'ボタン'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("h2",{attrs:{id:"まとめ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#まとめ","aria-hidden":"true"}},[t._v("#")]),t._v(" まとめ")]),s("ul",[s("li",[t._v("最近のJavaScript界隈では言語仕様の欠点を補うために型チェックライブラリを導入するケースが増えている")]),s("li",[t._v("React/ReactNativeで型チェックをする場合は、"),s("code",[t._v("PropTypes")]),t._v("/"),s("code",[t._v("Flow")]),t._v("/"),s("code",[t._v("TypeScript")]),t._v("が候補となる")]),s("li",[t._v("PropTypesはコンポーネントに渡される引数に対して、型とデフォルト値を設定することができる")])])])}],!1,null,null,null);a.default=e.exports}}]);