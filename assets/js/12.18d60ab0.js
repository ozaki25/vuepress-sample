(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{63:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"reactnativeのテスト"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactnativeのテスト","aria-hidden":"true"}},[t._v("#")]),t._v(" ReactNativeのテスト")]),a("h2",{attrs:{id:"ゴール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ゴール","aria-hidden":"true"}},[t._v("#")]),t._v(" ゴール")]),a("ul",[a("li",[t._v("Jestを使ったテストのやり方を理解する")])]),a("h2",{attrs:{id:"jestとは"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jestとは","aria-hidden":"true"}},[t._v("#")]),t._v(" Jestとは")]),a("ul",[a("li",[t._v("ReactNativeにデフォルトで同梱されているテストフレームワーク")]),a("li",[t._v("https://facebook.github.io/jest/")]),a("li",[t._v("Reactに限らず一般的なJavaScriptのテストフレームワークとして使える")])]),a("h2",{attrs:{id:"jestの特徴"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jestの特徴","aria-hidden":"true"}},[t._v("#")]),t._v(" Jestの特徴")]),a("ul",[a("li",[t._v("JUnitのような単体テストに加えて、コンポーネントの描画内容をテストするスナップショットテストもできる")]),a("li",[t._v("関数をモック化する機能が優秀なので単体テストがやりやすい")])]),a("h2",{attrs:{id:"単体テスト"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#単体テスト","aria-hidden":"true"}},[t._v("#")]),t._v(" 単体テスト")]),a("ul",[a("li",[a("p",[t._v("ロジックの単体テストができる")])]),a("li",[a("p",[t._v("https://facebook.github.io/jest/docs/en/using-matchers.html")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'two plus two is four'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("li",[a("p",[t._v("いろいろなmatcherが用意されているのでここから適当なものを見つけてテストを書いていく")])]),a("li",[a("p",[t._v("https://facebook.github.io/jest/docs/en/expect.html")])])]),a("h2",{attrs:{id:"スナップショットテスト"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#スナップショットテスト","aria-hidden":"true"}},[t._v("#")]),t._v(" スナップショットテスト")]),a("ul",[a("li",[a("p",[t._v("コンポーネントの状態(画面に表示される文字とか色とか)のスナップショットを保存し前回の結果と比較することでテストする")])]),a("li",[a("p",[t._v("https://facebook.github.io/jest/docs/en/snapshot-testing.html")]),a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react-native'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SampleScreen "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../../../src/containers/SampleScreen'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" renderer "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'react-test-renderer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("it")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'renders correctly'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// 描画内容をjson化")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tree "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" renderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("create")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("SampleScreen")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toJSON")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// 保存してあるスナップショットと比較")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tree"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toMatchSnapshot")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),a("h3",{attrs:{id:"初回実行の場合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初回実行の場合","aria-hidden":"true"}},[t._v("#")]),t._v(" 初回実行の場合")]),a("ul",[a("li",[t._v("テストを実行すると"),a("code",[t._v("__snapshots__")]),t._v("ディレクトリが作られその中にスナップショットが保存される")])]),a("h3",{attrs:{id:"二回目以降の場合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二回目以降の場合","aria-hidden":"true"}},[t._v("#")]),t._v(" 二回目以降の場合")]),a("ul",[a("li",[t._v("保存してあるスナップショットと差分がないか比較される")]),a("li",[t._v("差分がある場合はそれが意図したものか内容を確認する")]),a("li",[t._v("意図した変更であるなら"),a("code",[t._v("npm test -- -u")]),t._v("を実行することでスナップショットを更新できる")])]),a("h2",{attrs:{id:"テストの進め方"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テストの進め方","aria-hidden":"true"}},[t._v("#")]),t._v(" テストの進め方")]),a("h3",{attrs:{id:"テストファイルの作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テストファイルの作成","aria-hidden":"true"}},[t._v("#")]),t._v(" テストファイルの作成")]),a("ul",[a("li",[a("p",[t._v("Jestでは"),a("code",[t._v("__tests__")]),t._v("ディレクトリ内にあるファイル、"),a("code",[t._v("xxx.test.js")]),t._v("の形式のファイルが実行対象となる")])]),a("li",[a("p",[a("code",[t._v("__tests__")]),t._v("内にsrcディレクトリと同じ構造でファイルを配置すると見やすい")])]),a("li",[a("p",[t._v("テスト対象のファイルとテストファイルを一対一にしておくと分かりやすい")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("myapp\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--__tests__\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--src\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--utils\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--DeepSleepTimer.test.js\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--Timer.test.js\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--src\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--utils\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--DeepSleepTimer.js\n"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--Timer.js\n")])])])]),a("h3",{attrs:{id:"テストの実行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テストの実行","aria-hidden":"true"}},[t._v("#")]),t._v(" テストの実行")]),a("ul",[a("li",[a("code",[t._v("npm test")]),t._v("でテストが実行される")]),a("li",[a("code",[t._v("npm test -- --verbose")]),t._v("とすると結果がより詳細に表示される")]),a("li",[t._v("特定のファイルだけテストしたいときは"),a("code",[t._v("npm test __tests__/src/utils/Timer.test.js")]),t._v("のようにファイルを指定する")])]),a("h3",{attrs:{id:"テストのカバレッジを取得する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テストのカバレッジを取得する","aria-hidden":"true"}},[t._v("#")]),t._v(" テストのカバレッジを取得する")]),a("ul",[a("li",[a("p",[a("code",[t._v("npm test -- --coverage")]),t._v("で取得できる")])]),a("li",[a("p",[t._v("100%じゃない場合カバーされていないのがどこか教えてくれる")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("--------------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\nFile                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  % Stmts "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" % Branch "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  % Funcs "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("  % Lines "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("Uncovered Lines "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n--------------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\nAll files           "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    90.63 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    81.82 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    93.75 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("       90 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\njest                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  setup.js          "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\nsrc/utils           "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("       90 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    81.82 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    93.33 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    89.66 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  DeepSleepTimer.js "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("       85 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    66.67 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("       90 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("    84.21 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("       34,35,37 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  Timer.js          "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("      100 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n--------------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("----------------"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])])]),a("h2",{attrs:{id:"テストファイルの書き方"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#テストファイルの書き方","aria-hidden":"true"}},[t._v("#")]),t._v(" テストファイルの書き方")]),a("ul",[a("li",[a("p",[a("code",[t._v("describe")]),t._v("を使ってコンテキストを分けると結果が見やすくなるので活用するとよい")])]),a("li",[a("p",[t._v("サンプル")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'Timer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'#start'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がない場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がある場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onStartが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'#clear'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がない場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが呼ばれないこと'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がある場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが呼ばれないこと'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onClearが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'#reset'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がない場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("describe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'引数がある場合'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onTimeoutが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'onRestartが一回呼ばれること'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("li",[a("p",[t._v("実行結果")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("PASS  __tests__/src/utils/Timer.test.js\n  Timer\n    "),a("span",{attrs:{class:"token comment"}},[t._v("#start")]),t._v("\n      引数がない場合\n        ✓ onTimeoutが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      引数がある場合\n        ✓ onTimeoutが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        ✓ onStartが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("#clear")]),t._v("\n      引数がない場合\n        ✓ onTimeoutが呼ばれないこと "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      引数がある場合\n        ✓ onTimeoutが呼ばれないこと\n        ✓ onClearが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("#reset")]),t._v("\n      引数がない場合\n        ✓ onTimeoutが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      引数がある場合\n        ✓ onTimeoutが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        ✓ onRestartが一回呼ばれること "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("li",[a("p",[a("code",[t._v("skip")]),t._v("や"),a("code",[t._v("only")]),t._v("が用意されてるので覚えておくと便利")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// skipがついているのでこのテストは実行されない")]),t._v("\ntest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("skip")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'two plus two is four'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// onlyがついているのでこのテストだけが実行される(このファイル内の他のテストが全てスキップされる)")]),t._v("\ntest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("only")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'two plus two is four'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),a("h2",{attrs:{id:"まとめ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#まとめ","aria-hidden":"true"}},[t._v("#")]),t._v(" まとめ")]),a("ul",[a("li",[t._v("Jestを使うことでJavaScriptのテストができる")]),a("li",[t._v("Jestは単体テストに加えてスナップショットテストもできる")])])])}],!1,null,null,null);s.default=o.exports}}]);